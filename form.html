<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
   <meta charset="utf-8">
   <title>Multi Step Form</title>
   <link rel="stylesheet" href="style2.css">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
</head>
<body>
   <div class="container">
      <header>Estimez le prix de votre véhicule</header>
      <div class="progress-bar">
         <div class="step">
            <p>général</p>
            <div class="bullet">
               <span>1</span>
            </div>
            <div class="check fas fa-check"></div>
         </div>
         <div class="step">
            <p>performance</p>
            <div class="bullet">
               <span>2</span>
            </div>
            <div class="check fas fa-check"></div>
         </div>
         <div class="step">
            <p>Détails</p>
            <div class="bullet">
               <span>3</span>
            </div>
            <div class="check fas fa-check"></div>
         </div>
         <div class="step">
            <p>Documents</p>
            <div class="bullet">
               <span>4</span>
            </div>
            <div class="check fas fa-check"></div>
         </div>
      </div>
      <div class="form-outer">
         <form action="#">
            <div class="page slide-page">
               <div class="title">Généralités :</div>
               <div class="field">
                  <div class="label">Marque</div>
                  <input type="text">
               </div>
               <div class="field">
                  <div class="label">Modèle</div>
                  <input type="text">
               </div>
               <div class="field">
                  <div class="label">Année</div>
                  <input type="text">
               </div>
               <div class="field">
                  <button class="firstNext next">Next</button>
               </div>
            </div>
            <div class="page">
               <div class="title">Performance :</div>
               <div class="field">
                  <div class="label">Moteur</div>
                  <input type="text">
               </div>
               <div class="field">
                  <div class="label">Kilométrage</div>
                  <input type="text">
               </div>
               <div class="field">
                  <div class="label">Énergie</div>
                  <input type="number">
               </div>
               <div class="field btns">
                  <button class="prev-1 prev">Previous</button>
                  <button class="next-1 next">Next</button>
               </div>
            </div>
            <div class="page">
               <div class="title">Détails Techniques :</div>
               <div class="field">
                  <div class="label">Couleur</div>
                  <input type="text">
               </div>
               <div class="field">
                  <div class="label">Finition</div>
                  <input type="text">
               </div>
               <div class="field">
                  <div class="label">Boîte</div>
                  <select>
                     <option>Manuelle</option>
                     <option>Automatique</option>
                     <option>Séquentielle</option>
                  </select>
               </div>
               <div class="field btns">
                  <button class="prev-2 prev">Previous</button>
                  <button class="next-2 next">Next</button>
               </div>
            </div>
            <div class="page">
               <div class="title">Documents :</div>
               <div class="field">
                  <div class="label">Papier</div>
                  <select>
                     <option>Carte Grise / Safia</option>
                     <option>Licence / Délai</option>
                     <option>Carte Jaune</option>
                  </select>
               </div>
               <div class="field">
                  <div class="label">Options</div>
                  <div class="multiselect">
                    <div class="selectBox" onclick="showCheckboxes()">
                     <select>
                      <option>Select an option</option>
                     </select>
                     <div class="overSelect"></div>
                    </div>
                    <div id="checkboxes">
                     <label><input type="checkbox" id="1"/>Climatisation</label>
                     <label><input type="checkbox" id="2"/>Toit Ouvrant</label>
                     <label><input type="checkbox" id="3"/>ABS</label>
                     <label><input type="checkbox" id="4"/>ESP</label>
                     <label><input type="checkbox" id="5"/>Radar de Recul</label>
                     <label><input type="checkbox" id="6"/>Direction Assistée</label>
                     <label><input type="checkbox" id="7"/>Rétroviseurs Électriques</label>
                     <label><input type="checkbox" id="8"/>Phares Antibrouillard</label>
                     <label><input type="checkbox" id="9"/>Radio CD</label>
                     <label><input type="checkbox" id="10"/>Alarme</label>
                     <label><input type="checkbox" id="11"/>Phares Xenon</label>
                     <label><input type="checkbox" id="12"/>Jantes Alliage</label>
                     <label><input type="checkbox" id="13"/>Feux du Jour</label>
                     <label><input type="checkbox" id="14"/>Vitres Électriques</label>
                     

                    </div>
                   </div>
               </div>
               <div class="field btns">
                  <button class="prev-3 prev">Previous</button>
                  <button class="submit">Submit</button>
               </div>
            </div>
         </form>
      </div>
   </div>
   <div id="popup" class="popup">
      <div class="popup-content">
         <span class="close">&times;</span>
         <p><strong>Completed</strong></p>
         <p>L'estimation de prix de votre vehicule est : xxx</p>
         <button id="ok-close">Ok, Close</button>
      </div>
   </div>
   <script src="script.js"></script>
   <script>
    var expanded = false;
 
 function showCheckboxes() {
   var checkboxes = document.getElementById("checkboxes");
   var btns = document.querySelectorAll(".btns button");
   
   if (!expanded) {
     checkboxes.style.display = "block";
     expanded = true;
     // Cacher les boutons
     btns.forEach(btn => {
       btn.style.display = "none";
     });
   } else {
     checkboxes.style.display = "none";
     expanded = false;
     // Afficher les boutons
     btns.forEach(btn => {
       btn.style.display = "block";
     });
   }
 }
 
 // Ajouter un écouteur d'événements pour détecter le défilement
 window.addEventListener('scroll', function() {
     var multiselect = document.querySelector('.multiselect');
     var selectBox = document.querySelector('.selectBox');
     var overSelect = document.querySelector('.overSelect');
     
     // Vérifier si la boîte de sélection est dans la vue
     var multiselectPosition = multiselect.getBoundingClientRect();
     if (multiselectPosition.top >= 0 && multiselectPosition.bottom <= window.innerHeight) {
         // Si elle est dans la vue, afficher les options
         showCheckboxes();
     } else {
         // Sinon, masquer les options
         var checkboxes = document.getElementById("checkboxes");
         checkboxes.style.display = "none";
         expanded = false;
     }
 });
 </script>
 
</body>
</html>
